///<jscompress sourcefile="syExtEasyUI.js" />
var sy=sy||{};$.extend($.fn.panel.defaults,{loadingMessage:"\u52a0\u8f7d\u4e2d...."});$.extend($.fn.datagrid.defaults,{loadMsg:"\u6570\u636e\u52a0\u8f7d\u4e2d...."});$.extend($.fn.panel.defaults,{onBeforeDestroy:function(){var a=$("iframe",this);try{if(0<a.length){for(var b=0;b<a.length;b++)a[b].src="",a[b].contentWindow.document.write(""),a[b].contentWindow.close();a.remove();if(0<navigator.userAgent.indexOf("MSIE"))try{CollectGarbage()}catch(c){}}}catch(c){}}});sy.onMove={onMove:function(a,b){var c=a,e=b;1>c&&(c=1);1>e&&(e=1);var f=parseInt($(this).parent().css("width"))+14,d=parseInt($(this).parent().css("height"))+14,h=c+f,k=e+d,g=$(window).width(),l=$(window).height();h>g&&(c=g-f);k>l&&(e=l-d);$(this).parent().css({left:c,top:e})}};$.extend($.fn.dialog.defaults,sy.onMove);$.extend($.fn.window.defaults,sy.onMove);$.extend($.fn.panel.defaults,sy.onMove);sy.onLoadError={onLoadError:function(a){parent.$&&parent.$.messager?(parent.$.messager.progress("close"),parent.$.messager.alert("\u9519\u8bef",a.responseText)):($.messager.progress("close"),$.messager.alert("\u9519\u8bef",a.responseText))}};$.extend($.fn.datagrid.defaults,sy.onLoadError);$.extend($.fn.treegrid.defaults,sy.onLoadError);$.extend($.fn.tree.defaults,sy.onLoadError);$.extend($.fn.combogrid.defaults,sy.onLoadError);$.extend($.fn.combobox.defaults,sy.onLoadError);$.extend($.fn.form.defaults,sy.onLoadError);$.extend($.fn.combobox.defaults,{onHidePanel:function(){var a=$(this).combobox("options");if("remote"==a.mode){for(var b=$(this).combobox("getData"),c=$(this).combobox("getValue"),e=!1,f=0;f<b.length;f++)b[f][a.valueField]==c&&(e=!0);e||$(this).combobox("setValue","")}}});$.extend($.fn.combogrid.defaults,{onHidePanel:function(){var a=$(this).combogrid("options");if("remote"==a.mode){for(var b=$(this).combogrid("grid").datagrid("getData").rows,c=$(this).combogrid("getValue"),e=!1,f=0;f<b.length;f++)b[f][a.idField]==c&&(e=!0);e||$(this).combogrid("setValue","")}}});$.extend($.fn.validatebox.defaults.rules,{eqPwd:{validator:function(a,b){return a==$(b[0]).val()},message:"\u5bc6\u7801\u4e0d\u4e00\u81f4\uff01"}});sy.loadFilter={loadFilter:function(a,b){var c=$(this).data().tree.options,e,f;if(c.parentField){e=c.idField||"id";f=c.textField||"text";var c=c.parentField||"pid",d,h,k=[],g=[];d=0;for(h=a.length;d<h;d++)g[a[d][e]]=a[d];d=0;for(h=a.length;d<h;d++)g[a[d][c]]&&a[d][e]!=a[d][c]?(g[a[d][c]].children||(g[a[d][c]].children=[]),a[d].text=a[d][f],g[a[d][c]].children.push(a[d])):(a[d].text=a[d][f],k.push(a[d]));return k}return a}};$.extend($.fn.combotree.defaults,sy.loadFilter);$.extend($.fn.tree.defaults,sy.loadFilter);$.extend($.fn.treegrid.defaults,{loadFilter:function(a,b){var c=$(this).data().treegrid.options,e,f;if(c.parentField){e=c.idField||"id";f=c.textField||"text";var c=c.parentField||"pid",d,h,k=[],g=[];d=0;for(h=a.length;d<h;d++)g[a[d][e]]=a[d];d=0;for(h=a.length;d<h;d++)g[a[d][c]]&&a[d][e]!=a[d][c]?(g[a[d][c]].children||(g[a[d][c]].children=[]),a[d].text=a[d][f],g[a[d][c]].children.push(a[d])):(a[d].text=a[d][f],k.push(a[d]));return k}return a}});sy.modalDialog=function(a,b,c){void 0==b&&(b=640);void 0==c&&(c=600);b=$.extend({title:"\x26nbsp;",width:b,height:c,modal:!0,resizable:!0,collapsible:!0,maximizable:!0,onClose:function(){$(this).dialog("destroy")}},a);b.modal=!0;a.url&&(b.content='\x3ciframe id\x3d"" src\x3d"'+a.url+'" allowTransparency\x3d"true" scrolling\x3d"auto" width\x3d"100%" height\x3d"98%" frameBorder\x3d"0" name\x3d""\x3e\x3c/iframe\x3e');return $("\x3cdiv/\x3e").dialog(b)};$.extend($.fn.form.methods,{loadData:function(a,b){function c(a,b){function c(b){var c=$(a);c.find("input[name],select[name],textarea[name]").each(function(){var a=this.name,d=jQuery.proxy(function(){try{return eval("this."+a)}catch(m){return""}},b)();if(!e(a,d).length){var g=c.find('input[numberboxName\x3d"'+a+'"]');g.length?g.numberbox("setValue",d):($('input[name\x3d"'+a+'"]',c).val(d),$('textarea[name\x3d"'+a+'"]',c).val(d),$('select[name\x3d"'+a+'"]',c).val(d))}f(a,d)});g.onLoadSuccess.call(a,b);$(a).form("validate")}function e(c,b){var d=$(a).find('input[name\x3d"'+c+'"][type\x3dradio], input[name\x3d"'+c+'"][type\x3dcheckbox]');d._propAttr("checked",!1);d.each(function(){var a=$(this);(a.val()==String(b)||0<=$.inArray(a.val(),b))&&a._propAttr("checked",!0)});return d}function f(c,b){var d="combobox combotree combogrid datetimebox datebox combo".split(" "),e=$(a).find('[comboName\x3d"'+c+'"]');if(e.length)for(var f=0;f<d.length;f++){var g=d[f];if(e.hasClass(g+"-f")){if(e[g]("options").multiple)e[g]("setValues",b);else e[g]("setValue",b);break}}}$.data(a,"form")||$.data(a,"form",{options:$.extend({},$.fn.form.defaults)});var g=$.data(a,"form").options;if("string"==typeof b){var l={};0!=g.onBeforeLoad.call(a,l)&&$.ajax({url:b,data:l,dataType:"json",success:function(a){c(a)},error:function(){g.onLoadError.apply(a,arguments)}})}else c(b)}return a.each(function(){c(this,b)})}});sy.changeTheme=function(a){var b=$("#easyuiTheme"),c=b.attr("href"),c=c.substring(0,c.indexOf("themes"))+"themes/"+a+"/easyui.css";b.attr("href",c);b=$("iframe");if(0<b.length)for(var e=0;e<b.length;e++){var f=b[e];try{$(f).contents().find("#easyuiTheme").attr("href",c)}catch(d){try{f.contentWindow.document.getElementById("easyuiTheme").href=c}catch(h){}}}sy.cookie("easyuiTheme",a,{expires:7})};sy.progressBar=function(a){if("string"==typeof a)"close"==a&&$("#syProgressBarDiv").dialog("destroy");else{if(1>$("#syProgressBarDiv").length){var b=$.extend({title:"\x26nbsp;",closable:!1,width:300,height:60,modal:!0,content:'\x3cdiv id\x3d"syProgressBar" class\x3d"easyui-progressbar" data-options\x3d"value:0"\x3e\x3c/div\x3e'},a);$('\x3cdiv id\x3d"syProgressBarDiv"/\x3e').dialog(b);$.parser.parse("#syProgressBarDiv")}else $("#syProgressBarDiv").dialog("open");a.value&&$("#syProgressBar").progressbar("setValue",a.value)}};sy=sy||{};sy.trim=function(a){return a.replace(/(^\s*)|(\s*$)/g,"")};sy.ltrim=function(a){return a.replace(/(^\s*)/g,"")};sy.rtrim=function(a){return a.replace(/(\s*$)/g,"")};sy.startWith=function(a,b){return(new RegExp("^"+b)).test(a)};sy.endWith=function(a,b){return(new RegExp(b+"$")).test(a)};sy.autoIframeHeight=function(a){a.style.height=a.contentWindow.document.body.scrollHeight+"px"};sy.setIframeHeight=function(a,b){a.height=b};sy=sy||{};sy.data=sy.data||{};$(document).bind("contextmenu",function(){});$(document).bind("selectstart",function(){});sy.ns=function(){for(var a={},b,c=0;c<arguments.length;c++){b=arguments[c].split(".");for(var a=window[b[0]]=window[b[0]]||{},e=0;e<b.slice(1).length;e++)a=a[b[e+1]]=a[b[e+1]]||{}}return a};sy.serializeObject=function(a){var b={};$.each(a.serializeArray(),function(a){b[this.name]=b[this.name]?b[this.name]+","+this.value:this.value});console.log("from post:"+b);return b};sy.formatString=function(a){for(var b=0;b<arguments.length-1;b++)a=a.replace("{"+b+"}",arguments[b+1]);return a};sy.stringToList=function(a){if(void 0!=a&&""!=a){var b=[];a=a.split(",");for(var c=0;c<a.length;c++)b.push(""+a[c]);return b}return[]};sy.jsonToString=function(a){var b=[];if("string"==typeof a)return'"'+a.replace(/([\'\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"';if("object"==typeof a){if(a.sort){for(c=0;c<a.length;c++)b.push(sy.jsonToString(a[c]));b="["+b.join()+"]"}else{for(var c in a)b.push(c+":"+sy.jsonToString(a[c]));document.all&&!/^\n?function\s*toString\(\)\s*\{\n?\s*\[native code\]\n?\s*\}\n?\s*$/.test(a.toString)&&b.push("toString:"+a.toString.toString());b="{"+b.join()+"}"}return b}return a.toString()};sy.cookie=function(a,b,c){if(1<arguments.length&&(null===b||"object"!==typeof b)){c=$.extend({},c);null===b&&(c.expires=-1);if("number"===typeof c.expires){var e=c.expires,f=c.expires=new Date;f.setDate(f.getDate()+e)}return document.cookie=[encodeURIComponent(a),"\x3d",c.raw?String(b):encodeURIComponent(String(b)),c.expires?"; expires\x3d"+c.expires.toUTCString():"",c.path?"; path\x3d"+c.path:"",c.domain?"; domain\x3d"+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};f=c.raw?function(a){return a}:decodeURIComponent;return(e=(new RegExp("(?:^|; )"+encodeURIComponent(a)+"\x3d([^;]*)")).exec(document.cookie))?f(e[1]):null};$.ajaxSetup({type:"POST",error:function(a,b,c){try{parent.$.messager.progress("close"),parent.$.messager.alert("\u9519\u8bef",a.responseText)}catch(e){alert(a.responseText)}}});$(function(){$(".iconImg").attr("src",sy.pixel_0)});